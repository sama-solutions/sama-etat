<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- 
    ================================================================
    DESIGNS AVEC FONDS D'ÉCRAN PLEINE TAILLE - SAMA_CARTE V2.1
    L'image de fond détermine la taille de la carte
    Informations positionnées intelligemment par-dessus
    ================================================================
    -->

    <!-- DESIGN 1: Moderne avec fond pleine taille -->
    <template id="design_modern_fullsize_background" name="Moderne - Fond Pleine Taille">
        <section class="modern-fullsize-container">
            <style>
                .modern-fullsize-container {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    min-height: 100vh;
                    padding: 20px;
                    background: #f8f9fa;
                }
                .modern-fullsize-card {
                    position: relative;
                    max-width: 90vw;
                    max-height: 80vh;
                    background-image: url('/sama_carte/static/backgrounds/Dakar Gazelles portrait.png');
                    background-size: contain;
                    background-repeat: no-repeat;
                    background-position: center;
                    aspect-ratio: 9/16; /* Portrait par défaut */
                    border-radius: 20px;
                    overflow: hidden;
                    box-shadow: 0 25px 50px rgba(0,0,0,0.3);
                    animation: cardAppear 1s ease-out;
                }
                
                /* Responsive : Paysage pour desktop */
                @media (min-width: 768px) {
                    .modern-fullsize-card {
                        background-image: url('/sama_carte/static/backgrounds/Dakar Gazelles paysage.png');
                        aspect-ratio: 16/9;
                        max-width: 80vw;
                        max-height: 70vh;
                    }
                }
                
                /* Overlay pour lisibilité */
                .modern-overlay {
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: linear-gradient(
                        135deg, 
                        rgba(0,0,0,0.3) 0%, 
                        rgba(0,0,0,0.1) 30%, 
                        rgba(0,0,0,0.1) 70%, 
                        rgba(0,0,0,0.4) 100%
                    );
                    z-index: 1;
                }
                
                /* Grille de positionnement */
                .modern-content-grid {
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    display: grid;
                    grid-template-columns: 1fr 1fr 1fr;
                    grid-template-rows: 1fr 1fr 1fr;
                    gap: 10px;
                    padding: 20px;
                    z-index: 2;
                }
                
                /* Zones de contenu */
                .modern-zone {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: white;
                    text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
                }
                
                .modern-logo-zone {
                    grid-column: 1;
                    grid-row: 1;
                    justify-content: flex-start;
                    align-items: flex-start;
                }
                
                .modern-qr-zone {
                    grid-column: 3;
                    grid-row: 1;
                    justify-content: flex-end;
                    align-items: flex-start;
                }
                
                .modern-photo-zone {
                    grid-column: 1;
                    grid-row: 3;
                    justify-content: flex-start;
                    align-items: flex-end;
                }
                
                .modern-info-zone {
                    grid-column: 2 / 4;
                    grid-row: 3;
                    justify-content: flex-end;
                    align-items: flex-end;
                    flex-direction: column;
                    text-align: right;
                }
                
                .modern-name-zone {
                    grid-column: 1 / 4;
                    grid-row: 2;
                    flex-direction: column;
                    background: rgba(255,255,255,0.1);
                    backdrop-filter: blur(10px);
                    border-radius: 15px;
                    margin: 0 20px;
                    padding: 20px;
                }
                
                /* Éléments */
                .modern-photo {
                    width: 80px;
                    height: 80px;
                    border-radius: 50%;
                    object-fit: cover;
                    border: 3px solid white;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                    animation: photoZoom 1s ease-out 0.5s both;
                }
                
                .modern-qr {
                    width: 60px;
                    height: 60px;
                    background: white;
                    padding: 5px;
                    border-radius: 10px;
                    animation: qrSpin 1s ease-out 0.8s both;
                }
                
                .modern-name {
                    font-size: 1.8rem;
                    font-weight: 700;
                    margin-bottom: 10px;
                    animation: nameSlide 1s ease-out 0.3s both;
                }
                
                .modern-number {
                    font-size: 1.2rem;
                    font-weight: 500;
                    opacity: 0.9;
                    animation: numberFade 1s ease-out 0.6s both;
                }
                
                .modern-status {
                    background: linear-gradient(135deg, #198754, #20c997);
                    padding: 8px 16px;
                    border-radius: 20px;
                    font-size: 0.9rem;
                    font-weight: 600;
                    margin-top: 10px;
                    animation: statusBounce 1s ease-out 1s both;
                }
                
                /* Animations */
                @keyframes cardAppear {
                    from { transform: scale(0.8) rotateY(20deg); opacity: 0; }
                    to { transform: scale(1) rotateY(0deg); opacity: 1; }
                }
                
                @keyframes photoZoom {
                    from { transform: scale(0); }
                    to { transform: scale(1); }
                }
                
                @keyframes qrSpin {
                    from { transform: rotate(-180deg) scale(0); }
                    to { transform: rotate(0deg) scale(1); }
                }
                
                @keyframes nameSlide {
                    from { transform: translateY(-30px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
                
                @keyframes numberFade {
                    from { opacity: 0; }
                    to { opacity: 0.9; }
                }
                
                @keyframes statusBounce {
                    0% { transform: scale(0); }
                    50% { transform: scale(1.1); }
                    100% { transform: scale(1); }
                }
                
                /* Mobile adjustments */
                @media (max-width: 767px) {
                    .modern-fullsize-card {
                        aspect-ratio: 9/16;
                        max-width: 95vw;
                        max-height: 85vh;
                    }
                    .modern-content-grid {
                        padding: 15px;
                        gap: 8px;
                    }
                    .modern-photo {
                        width: 60px;
                        height: 60px;
                    }
                    .modern-qr {
                        width: 50px;
                        height: 50px;
                    }
                    .modern-name {
                        font-size: 1.4rem;
                    }
                    .modern-number {
                        font-size: 1rem;
                    }
                }
            </style>
            
            <div class="modern-fullsize-card">
                <div class="modern-overlay"></div>
                <div class="modern-content-grid">
                    <!-- Logo zone -->
                    <div class="modern-zone modern-logo-zone">
                        <img t-if="company.logo" 
                             t-att-src="'/web/image/res.company/' + str(company.id) + '/logo'" 
                             style="max-height: 40px; filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));"
                             alt="Logo"/>
                    </div>
                    
                    <!-- QR Code zone -->
                    <div class="modern-zone modern-qr-zone">
                        <img t-if="member.barcode_qr" 
                             t-att-src="'data:image/png;base64,' + member.barcode_qr.decode('utf-8')" 
                             class="modern-qr"
                             alt="QR Code"/>
                    </div>
                    
                    <!-- Photo zone -->
                    <div class="modern-zone modern-photo-zone">
                        <img t-if="member.image_1920" 
                             t-att-src="'/web/image/membership.member/' + str(member.id) + '/image_1920'" 
                             class="modern-photo"
                             alt="Photo membre"/>
                        <img t-else="" 
                             src="/web/static/src/img/placeholder.png" 
                             class="modern-photo"
                             alt="Photo membre"/>
                    </div>
                    
                    <!-- Nom central -->
                    <div class="modern-zone modern-name-zone">
                        <div class="modern-name" t-esc="member.name"/>
                        <div class="modern-number" t-esc="member.membership_number"/>
                    </div>
                    
                    <!-- Informations zone -->
                    <div class="modern-zone modern-info-zone">
                        <div t-if="is_valid" class="modern-status">
                            <i class="fa fa-check me-1"/>VALIDE
                        </div>
                        <div t-else="" class="modern-status" style="background: linear-gradient(135deg, #dc3545, #fd7e14);">
                            <i class="fa fa-times me-1"/>EXPIRÉE
                        </div>
                        <div style="font-size: 0.8rem; margin-top: 5px; opacity: 0.8;">
                            Expire le <span t-esc="member.expiration_date.strftime('%d/%m/%Y')"/>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </template>

    <!-- DESIGN 2: Corporate avec fond pleine taille -->
    <template id="design_corporate_fullsize_background" name="Corporate - Fond Pleine Taille">
        <section class="corporate-fullsize-container">
            <style>
                .corporate-fullsize-container {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    min-height: 100vh;
                    padding: 20px;
                    background: #e9ecef;
                }
                .corporate-fullsize-card {
                    position: relative;
                    max-width: 90vw;
                    max-height: 80vh;
                    background-image: url('/sama_carte/static/backgrounds/Jokkoo_portrait.png');
                    background-size: contain;
                    background-repeat: no-repeat;
                    background-position: center;
                    aspect-ratio: 9/16;
                    border-radius: 15px;
                    overflow: hidden;
                    box-shadow: 0 20px 40px rgba(0,0,0,0.2);
                    animation: corporateSlide 1s ease-out;
                }
                
                @media (min-width: 768px) {
                    .corporate-fullsize-card {
                        background-image: url('/sama_carte/static/backgrounds/Jokkoo_paysage.png');
                        aspect-ratio: 16/9;
                        max-width: 80vw;
                        max-height: 70vh;
                    }
                }
                
                .corporate-overlay {
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: linear-gradient(
                        45deg, 
                        rgba(13, 110, 253, 0.7) 0%, 
                        rgba(13, 110, 253, 0.3) 30%, 
                        rgba(13, 110, 253, 0.3) 70%, 
                        rgba(13, 110, 253, 0.8) 100%
                    );
                    z-index: 1;
                }
                
                .corporate-header {
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    background: rgba(13, 110, 253, 0.9);
                    backdrop-filter: blur(10px);
                    padding: 15px 20px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    z-index: 3;
                    animation: headerSlide 1s ease-out 0.3s both;
                }
                
                .corporate-content {
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    right: 0;
                    background: rgba(255, 255, 255, 0.95);
                    backdrop-filter: blur(10px);
                    padding: 20px;
                    z-index: 3;
                    animation: contentSlide 1s ease-out 0.6s both;
                }
                
                .corporate-member-info {
                    display: flex;
                    align-items: center;
                    gap: 20px;
                }
                
                .corporate-photo {
                    width: 80px;
                    height: 80px;
                    border-radius: 50%;
                    object-fit: cover;
                    border: 3px solid #0d6efd;
                    animation: corporateZoom 1s ease-out 0.9s both;
                }
                
                .corporate-details {
                    flex: 1;
                }
                
                .corporate-name {
                    font-size: 1.5rem;
                    font-weight: 600;
                    color: #2c3e50;
                    margin-bottom: 5px;
                }
                
                .corporate-number {
                    font-size: 1.1rem;
                    color: #6c757d;
                    margin-bottom: 10px;
                }
                
                .corporate-status {
                    display: inline-block;
                    padding: 5px 15px;
                    border-radius: 20px;
                    font-size: 0.9rem;
                    font-weight: 600;
                }
                
                .corporate-qr-container {
                    position: absolute;
                    top: 50%;
                    right: 20px;
                    transform: translateY(-50%);
                    z-index: 2;
                    animation: qrFloat 1s ease-out 1.2s both;
                }
                
                .corporate-qr {
                    width: 70px;
                    height: 70px;
                    background: white;
                    padding: 8px;
                    border-radius: 10px;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                }
                
                @keyframes corporateSlide {
                    from { transform: translateX(-100px); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                
                @keyframes headerSlide {
                    from { transform: translateY(-100%); }
                    to { transform: translateY(0); }
                }
                
                @keyframes contentSlide {
                    from { transform: translateY(100%); }
                    to { transform: translateY(0); }
                }
                
                @keyframes corporateZoom {
                    from { transform: scale(0); }
                    to { transform: scale(1); }
                }
                
                @keyframes qrFloat {
                    from { transform: translateY(-50%) scale(0); }
                    to { transform: translateY(-50%) scale(1); }
                }
                
                @media (max-width: 767px) {
                    .corporate-fullsize-card {
                        aspect-ratio: 9/16;
                        max-width: 95vw;
                        max-height: 85vh;
                    }
                    .corporate-member-info {
                        flex-direction: column;
                        text-align: center;
                        gap: 15px;
                    }
                    .corporate-photo {
                        width: 60px;
                        height: 60px;
                    }
                    .corporate-qr {
                        width: 50px;
                        height: 50px;
                    }
                    .corporate-qr-container {
                        top: auto;
                        bottom: 20px;
                        right: 20px;
                        transform: none;
                    }
                }
            </style>
            
            <div class="corporate-fullsize-card">
                <div class="corporate-overlay"></div>
                
                <!-- Header -->
                <div class="corporate-header">
                    <h4 style="color: white; margin: 0;" t-esc="company.name"/>
                    <img t-if="company.logo" 
                         t-att-src="'/web/image/res.company/' + str(company.id) + '/logo'" 
                         style="max-height: 30px;"
                         alt="Logo"/>
                </div>
                
                <!-- QR Code flottant -->
                <div class="corporate-qr-container">
                    <img t-if="member.barcode_qr" 
                         t-att-src="'data:image/png;base64,' + member.barcode_qr.decode('utf-8')" 
                         class="corporate-qr"
                         alt="QR Code"/>
                </div>
                
                <!-- Contenu bas -->
                <div class="corporate-content">
                    <div class="corporate-member-info">
                        <img t-if="member.image_1920" 
                             t-att-src="'/web/image/membership.member/' + str(member.id) + '/image_1920'" 
                             class="corporate-photo"
                             alt="Photo membre"/>
                        <img t-else="" 
                             src="/web/static/src/img/placeholder.png" 
                             class="corporate-photo"
                             alt="Photo membre"/>
                        
                        <div class="corporate-details">
                            <div class="corporate-name" t-esc="member.name"/>
                            <div class="corporate-number" t-esc="member.membership_number"/>
                            <span t-if="is_valid" class="corporate-status" style="background: #198754; color: white;">
                                <i class="fa fa-check me-1"/>AUTORISÉ
                            </span>
                            <span t-else="" class="corporate-status" style="background: #dc3545; color: white;">
                                <i class="fa fa-times me-1"/>EXPIRÉ
                            </span>
                            <div style="font-size: 0.8rem; color: #6c757d; margin-top: 5px;">
                                Expire le <span t-esc="member.expiration_date.strftime('%d/%m/%Y')"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </template>

    <!-- DESIGN 3: Prestige avec fond pleine taille -->
    <template id="design_prestige_fullsize_background" name="Prestige - Fond Pleine Taille">
        <section class="prestige-fullsize-container">
            <style>
                .prestige-fullsize-container {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    min-height: 100vh;
                    padding: 20px;
                    background: #1a1a1a;
                }
                .prestige-fullsize-card {
                    position: relative;
                    max-width: 90vw;
                    max-height: 80vh;
                    background-image: url('/sama_carte/static/backgrounds/Teranga Corp portrait.png');
                    background-size: contain;
                    background-repeat: no-repeat;
                    background-position: center;
                    aspect-ratio: 9/16;
                    border-radius: 20px;
                    overflow: hidden;
                    box-shadow: 0 30px 60px rgba(0,0,0,0.5);
                    border: 2px solid rgba(212, 175, 55, 0.3);
                    animation: prestigeGlow 1s ease-out;
                }
                
                @media (min-width: 768px) {
                    .prestige-fullsize-card {
                        background-image: url('/sama_carte/static/backgrounds/Teranga Corp paysage.png');
                        aspect-ratio: 16/9;
                        max-width: 80vw;
                        max-height: 70vh;
                    }
                }
                
                .prestige-overlay {
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: linear-gradient(
                        135deg, 
                        rgba(26, 26, 26, 0.8) 0%, 
                        rgba(26, 26, 26, 0.4) 30%, 
                        rgba(26, 26, 26, 0.4) 70%, 
                        rgba(26, 26, 26, 0.9) 100%
                    );
                    z-index: 1;
                }
                
                .prestige-corners {
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    z-index: 2;
                }
                
                .prestige-corner {
                    position: absolute;
                    width: 30px;
                    height: 30px;
                    border: 2px solid #D4AF37;
                }
                
                .prestige-corner.top-left {
                    top: 15px;
                    left: 15px;
                    border-right: none;
                    border-bottom: none;
                }
                
                .prestige-corner.top-right {
                    top: 15px;
                    right: 15px;
                    border-left: none;
                    border-bottom: none;
                }
                
                .prestige-corner.bottom-left {
                    bottom: 15px;
                    left: 15px;
                    border-right: none;
                    border-top: none;
                }
                
                .prestige-corner.bottom-right {
                    bottom: 15px;
                    right: 15px;
                    border-left: none;
                    border-top: none;
                }
                
                .prestige-center {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    text-align: center;
                    z-index: 3;
                    background: rgba(0, 0, 0, 0.7);
                    backdrop-filter: blur(15px);
                    padding: 30px;
                    border-radius: 20px;
                    border: 1px solid rgba(212, 175, 55, 0.3);
                    animation: prestigeCenter 1s ease-out 0.5s both;
                }
                
                .prestige-photo {
                    width: 100px;
                    height: 100px;
                    border-radius: 50%;
                    object-fit: cover;
                    border: 3px solid #D4AF37;
                    margin-bottom: 15px;
                    animation: prestigePhotoGlow 2s ease-in-out infinite alternate;
                }
                
                .prestige-name {
                    font-size: 1.8rem;
                    font-weight: 700;
                    background: linear-gradient(45deg, #D4AF37, #FFD700);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                    margin-bottom: 10px;
                    font-family: 'Playfair Display', serif;
                }
                
                .prestige-number {
                    font-size: 1.2rem;
                    color: #D4AF37;
                    margin-bottom: 15px;
                    font-family: 'Cinzel', serif;
                    letter-spacing: 2px;
                }
                
                .prestige-status {
                    padding: 10px 20px;
                    border-radius: 25px;
                    font-size: 0.9rem;
                    font-weight: 600;
                    margin-bottom: 10px;
                }
                
                .prestige-qr-corner {
                    position: absolute;
                    top: 20px;
                    right: 20px;
                    z-index: 3;
                    animation: prestigeQrFloat 1s ease-out 1s both;
                }
                
                .prestige-qr {
                    width: 60px;
                    height: 60px;
                    background: white;
                    padding: 5px;
                    border-radius: 10px;
                    border: 2px solid #D4AF37;
                }
                
                @keyframes prestigeGlow {
                    from { 
                        transform: scale(0.9); 
                        opacity: 0;
                        box-shadow: 0 0 0 rgba(212, 175, 55, 0);
                    }
                    to { 
                        transform: scale(1); 
                        opacity: 1;
                        box-shadow: 0 30px 60px rgba(0,0,0,0.5), 0 0 30px rgba(212, 175, 55, 0.3);
                    }
                }
                
                @keyframes prestigeCenter {
                    from { transform: translate(-50%, -50%) scale(0); opacity: 0; }
                    to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
                }
                
                @keyframes prestigePhotoGlow {
                    from { box-shadow: 0 0 20px rgba(212, 175, 55, 0.5); }
                    to { box-shadow: 0 0 40px rgba(212, 175, 55, 0.8); }
                }
                
                @keyframes prestigeQrFloat {
                    from { transform: translateY(-20px) scale(0); opacity: 0; }
                    to { transform: translateY(0) scale(1); opacity: 1; }
                }
                
                @media (max-width: 767px) {
                    .prestige-fullsize-card {
                        aspect-ratio: 9/16;
                        max-width: 95vw;
                        max-height: 85vh;
                    }
                    .prestige-center {
                        padding: 20px;
                    }
                    .prestige-photo {
                        width: 80px;
                        height: 80px;
                    }
                    .prestige-name {
                        font-size: 1.4rem;
                    }
                    .prestige-qr {
                        width: 50px;
                        height: 50px;
                    }
                }
            </style>
            
            <div class="prestige-fullsize-card">
                <div class="prestige-overlay"></div>
                
                <!-- Coins décoratifs -->
                <div class="prestige-corners">
                    <div class="prestige-corner top-left"></div>
                    <div class="prestige-corner top-right"></div>
                    <div class="prestige-corner bottom-left"></div>
                    <div class="prestige-corner bottom-right"></div>
                </div>
                
                <!-- QR Code coin -->
                <div class="prestige-qr-corner">
                    <img t-if="member.barcode_qr" 
                         t-att-src="'data:image/png;base64,' + member.barcode_qr.decode('utf-8')" 
                         class="prestige-qr"
                         alt="QR Code"/>
                </div>
                
                <!-- Contenu central -->
                <div class="prestige-center">
                    <img t-if="member.image_1920" 
                         t-att-src="'/web/image/membership.member/' + str(member.id) + '/image_1920'" 
                         class="prestige-photo"
                         alt="Photo membre"/>
                    <img t-else="" 
                         src="/web/static/src/img/placeholder.png" 
                         class="prestige-photo"
                         alt="Photo membre"/>
                    
                    <div class="prestige-name" t-esc="member.name"/>
                    <div class="prestige-number" t-esc="member.membership_number"/>
                    
                    <div t-if="is_valid" class="prestige-status" 
                         style="background: linear-gradient(135deg, rgba(212, 175, 55, 0.2), rgba(255, 215, 0, 0.3)); 
                                border: 2px solid #D4AF37; color: #D4AF37;">
                        <i class="fa fa-crown me-2"/> MEMBRE PRIVILÉGIÉ
                    </div>
                    <div t-else="" class="prestige-status" 
                         style="background: rgba(220, 53, 69, 0.2); border: 2px solid #dc3545; color: #dc3545;">
                        <i class="fa fa-exclamation-triangle me-2"/> STATUT SUSPENDU
                    </div>
                    
                    <div style="color: #D4AF37; font-size: 0.8rem; margin-top: 10px;">
                        Expire le <span t-esc="member.expiration_date.strftime('%d/%m/%Y')"/>
                    </div>
                </div>
            </div>
        </section>
    </template>
</odoo>