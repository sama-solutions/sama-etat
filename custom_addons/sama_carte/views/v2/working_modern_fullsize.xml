<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Template moderne fullsize qui fonctionne -->
    <template id="working_modern_fullsize_template" name="Moderne Fullsize Fonctionnel">
        <t t-call="website.layout">
            <div id="wrap">
                <div style="padding: 20px; background: #f8f9fa; min-height: 100vh;">
                    <h1 style="text-align: center; color: #333; margin-bottom: 30px;">
                        <i class="fa fa-expand me-3"></i>Design Moderne - Fond Pleine Taille
                    </h1>
                    
                    <!-- Carte moderne fullsize -->
                    <div style="
                        max-width: 1000px; 
                        margin: 0 auto; 
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        border-radius: 20px;
                        position: relative;
                        overflow: hidden;
                        box-shadow: 0 25px 50px rgba(0,0,0,0.3);
                        aspect-ratio: 16/9;
                        min-height: 400px;
                    ">
                        <!-- Overlay pour lisibilité -->
                        <div style="
                            position: absolute;
                            top: 0; left: 0; right: 0; bottom: 0;
                            background: linear-gradient(135deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 30%, rgba(0,0,0,0.1) 70%, rgba(0,0,0,0.4) 100%);
                            z-index: 1;
                        "></div>
                        
                        <!-- Grille de contenu -->
                        <div style="
                            position: absolute;
                            top: 0; left: 0; right: 0; bottom: 0;
                            display: grid;
                            grid-template-columns: 1fr 1fr 1fr;
                            grid-template-rows: 1fr 1fr 1fr;
                            gap: 10px;
                            padding: 20px;
                            z-index: 2;
                        ">
                            <!-- Logo coin haut-gauche -->
                            <div style="
                                grid-column: 1; grid-row: 1;
                                display: flex; align-items: flex-start; justify-content: flex-start;
                                color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
                            ">
                                <div style="background: rgba(255,255,255,0.2); padding: 10px; border-radius: 10px; font-weight: bold;">
                                    SAMA
                                </div>
                            </div>
                            
                            <!-- QR coin haut-droit -->
                            <div style="
                                grid-column: 3; grid-row: 1;
                                display: flex; align-items: flex-start; justify-content: flex-end;
                            ">
                                <div style="
                                    width: 60px; height: 60px;
                                    background: white; color: #666;
                                    padding: 5px; border-radius: 10px;
                                    display: flex; align-items: center; justify-content: center;
                                    font-size: 0.7rem;
                                ">QR</div>
                            </div>
                            
                            <!-- Nom central -->
                            <div style="
                                grid-column: 1 / 4; grid-row: 2;
                                display: flex; flex-direction: column; align-items: center; justify-content: center;
                                background: rgba(255,255,255,0.1);
                                backdrop-filter: blur(10px);
                                border-radius: 15px;
                                margin: 0 20px; padding: 20px;
                                color: white; text-align: center;
                            ">
                                <h3 style="margin: 0 0 10px 0; font-size: 1.8rem; font-weight: 700;" t-esc="member.name"/>
                                <p style="margin: 0; font-size: 1.2rem; opacity: 0.9;" t-esc="member.membership_number"/>
                            </div>
                            
                            <!-- Photo coin bas-gauche -->
                            <div style="
                                grid-column: 1; grid-row: 3;
                                display: flex; align-items: flex-end; justify-content: flex-start;
                            ">
                                <div style="
                                    width: 80px; height: 80px;
                                    background: #ddd; color: #666;
                                    border-radius: 50%; border: 3px solid white;
                                    display: flex; align-items: center; justify-content: center;
                                    font-size: 0.8rem;
                                    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                                ">PHOTO</div>
                            </div>
                            
                            <!-- Informations coin bas-droit -->
                            <div style="
                                grid-column: 2 / 4; grid-row: 3;
                                display: flex; flex-direction: column; align-items: flex-end; justify-content: flex-end;
                                color: white; text-align: right;
                            ">
                                <div style="
                                    background: linear-gradient(135deg, #198754, #20c997);
                                    padding: 8px 16px; border-radius: 20px;
                                    font-size: 0.9rem; font-weight: 600;
                                    margin-bottom: 10px;
                                ">
                                    <i class="fa fa-check me-1"></i>VALIDE
                                </div>
                                <div style="font-size: 0.8rem; opacity: 0.8;">
                                    Expire le <span t-esc="member.expiration_date.strftime('%d/%m/%Y')"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Navigation -->
                    <div style="text-align: center; margin-top: 30px;">
                        <a href="/background/fullsize/gallery" style="background: #0d6efd; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; margin: 0 10px;">
                            ← Retour à la galerie
                        </a>
                        <a href="/test/simple" style="background: #6c757d; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; margin: 0 10px;">
                            Test simple
                        </a>
                    </div>
                    
                    <!-- Informations de debug -->
                    <div style="margin-top: 30px; padding: 20px; background: white; border-radius: 10px; max-width: 1000px; margin-left: auto; margin-right: auto;">
                        <h4>Informations de test :</h4>
                        <ul>
                            <li>Membre : <span t-esc="member.name"/> (<span t-esc="member.membership_number"/>)</li>
                            <li>Société : <span t-esc="company.name"/></li>
                            <li>Couleur primaire : <span t-esc="company.primary_color"/></li>
                            <li>Statut : <span t-if="is_valid">Valide</span><span t-else="">Invalide</span></li>
                            <li>Expiration : <span t-esc="member.expiration_date.strftime('%d/%m/%Y')"/></li>
                        </ul>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>